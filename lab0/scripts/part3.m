rng(777);
N = 10000;
X = rand(1, N);
X = cat(2, -X(1:N/2), X(N/2 + 1:end));
Y = my_fun(X);
maxv = max(Y);
percofmax5 = 0.05 * maxv;
percofmax10 = 0.1 * maxv;
percofmax20 = 0.2 * maxv;
noised5 = makesomenoise(Y, percofmax5);
noised10 = makesomenoise(Y, percofmax10);
noised20 = makesomenoise(Y, percofmax20);
avabserr5 = sum(abs(Y - noised5)) / N;
avabserr10 = sum(abs(Y - noised10)) / N;
avabserr20 = sum(abs(Y - noised20)) / N;
avrelerr5 = sum(abs(Y - noised5) ./ maxv) / N;
avrelerr10 = sum(abs(Y - noised10) ./ maxv) / N;
avrelerr20 = sum(abs(Y - noised20) ./ maxv) / N;
maxerr5 = max(abs(Y - noised5));
maxerr10 = max(abs(Y - noised10));
maxerr20 = max(abs(Y - noised20));